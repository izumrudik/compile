#!./lang.py -rs
include "std.lang"

struct Point {
	x:int
	y:int
}

fun printPoint point:ptr {
	print('Point(x=')
	printd(load_int(point+Point.x))
	print(', y=')
	printd(load_int(point+Point.y))
	print(')')
}

memo p sizeof[Point]

fun main {
	a:ptr(ptr(int)) = 2
	printPoint(p)
	println('')
	save_int(p+Point.x, 15)
	save_int(p+Point.y, 89)
	printPoint(p)
	print('\n')
}
